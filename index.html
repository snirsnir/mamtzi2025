let navigationStack = ['section1'];

// Show/hide sections
function showSection(sectionId) {
    // Try multiple methods to ensure scrolling works in iframe
    try {
        // Method 1: Try scrolling the container
        const container = document.querySelector('.container');
        if (container) {
            container.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }
        
        // Method 2: Try scrolling the HTML element
        document.documentElement.scrollTo({
            top: 0,
            behavior: 'smooth'
        });
        
        // Method 3: Try scrolling the body
        document.body.scrollTo({
            top: 0,
            behavior: 'smooth'
        });
        
        // Method 4: Send message to parent frame
        window.parent.postMessage({
            action: 'scroll',
            top: 0
        }, '*');
    } catch (e) {
        console.error('Scroll error:', e);
    }
    
    // Hide all sections first
    const sections = document.querySelectorAll('.section');
    sections.forEach(section => {
        section.classList.remove('active');
    });
    
    // Show the selected section
    const targetSection = document.getElementById(sectionId);
    if (targetSection) {
        targetSection.classList.add('active');
        
        // Add to navigation stack if it's a new section
        if (navigationStack[navigationStack.length - 1] !== sectionId) {
            navigationStack.push(sectionId);
        }
        
        // Show/hide back button
        const backButton = document.querySelector('.back-button');
        backButton.style.display = navigationStack.length > 1 ? 'block' : 'none';
    }
}
